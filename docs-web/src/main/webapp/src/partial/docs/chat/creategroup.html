<div class="modal-header">
    <h3 class="modal-title">
        <span class="fas fa-users"></span> {{ 'chat.group.create' | translate }}
    </h3>
</div>

<div class="modal-body">
    <form name="createGroupForm" novalidate>
        <div class="form-group" ng-class="{ 'has-error': createGroupForm.name.$invalid && createGroupForm.name.$dirty }">
            <label for="inputGroupName">{{ 'chat.group.name' | translate }}</label>
            <input type="text" class="form-control" id="inputGroupName" name="name"
                   ng-model="group.name" required
                   placeholder="{{ 'chat.group.name_placeholder' | translate }}">
            <p class="help-block" ng-if="createGroupForm.name.$invalid && createGroupForm.name.$dirty">
                {{ 'chat.group.name_required' | translate }}
            </p>
        </div>
        
        <div class="form-group">
            <label>{{ 'chat.group.members' | translate }}</label>
            <div class="member-selection">
                <div class="member-search">
                    <div class="input-group">
                        <span class="input-group-addon"><span class="fas fa-search"></span></span>
                        <input type="text" class="form-control" 
                               ng-model="memberSearch" 
                               placeholder="{{ 'chat.search_users' | translate }}">
                    </div>
                </div>
                
                <div class="member-list">
                    <div class="checkbox" ng-repeat="user in users | filter:memberSearch">
                        <label>
                            <input type="checkbox" ng-model="user.selected"> {{user.username}}
                        </label>
                    </div>
                    <div class="no-users" ng-if="users.length === 0">
                        {{ 'chat.no_users' | translate }}
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button class="btn btn-primary" 
            ng-disabled="createGroupForm.$invalid || !hasSelectedMembers()" 
            ng-click="create()">
        <span class="fas fa-check"></span> {{ 'chat.group.create' | translate }}
    </button>
    <button class="btn btn-default" ng-click="cancel()">
        {{ 'cancel' | translate }}
    </button>
</div> 